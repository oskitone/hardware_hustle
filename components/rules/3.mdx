import styles from "@/styles/Rules.module.css";

import ActionsTable, { ACTIONS } from "components/actions-table";
import Graph from "components/graph";
import Icon, {
  Money,
  Opportunity,
  A,
  B,
  C,
  D,
  AB,
  ABC,
  ABCD,
} from "components/icon";
import Turn, { firstTurnSuppliedColumns } from "components/turn";

### 4. Sell

The last Action of our turn is to Sell Widgets, consuming Opportunity and gaining Money.

<ActionsTable actions={[ACTIONS.SELL]} className={styles.ActionsTable} />

**Roll for <Opportunity />.** We'll say it's 3.

    <AB />1x<Money />6 = <Money />6<br />
    <AB />1x<Opportunity />2 = <Opportunity />2

Our <Opportunity /> roll wasn't enough to sell both of the Widgets we made, so we could only sell the <AB />. You can Buy/Sell/Make as much as you want but only within what you roll/have.

<Turn
  className={styles.Turn}
  data={{
    money: [10, 9, undefined, 6],
    A: [0, 2, 2, undefined],
    B: [0, 2, 2, undefined],
    C: [0, 1, 1, undefined],
    D: [0, 0, 0, undefined],
    AB: [0, undefined, 1, 1],
    ABC: [0, undefined, 1, 0],
    ABCD: [0, undefined, 0, 0],
    opportunity: [12, 4, 3, 2],
  }}
  suppliedColumns={firstTurnSuppliedColumns}
/>

When you sell a Widget, you lose it from your inventory, of course.

### 5. PM

Tally up your Actions' math and end your turn in the PM column.

<Turn
  className={styles.Turn}
  data={{
    money: [10, 9, undefined, 6, 7],
    A: [0, 2, 2, undefined, 0],
    B: [0, 2, 2, undefined, 0],
    C: [0, 1, 1, undefined, 0],
    D: [0, 0, 0, undefined, 0],
    AB: [0, undefined, 1, 1, 0],
    ABC: [0, undefined, 1, 0, 1],
    ABCD: [0, undefined, 0, 0, 0],
    opportunity: [12, 4, 3, 2, 3],
  }}
  suppliedColumns={firstTurnSuppliedColumns}
/>

{/* Bump header into next column */}

<br />

#### Money

Your turn ends with <Icon id="money" />7, and you plot it in the Money chart on the left of the game sheet.

<Graph
  values={[10, 7]}
  x_axis_labels={[0, 1, 2, 3]}
  y_axis_labels={[0, 10, 20, 30]}
  subset={true}
  className={styles.Graph}
/>

A productive day, sure, but not super profitable...

#### Opportunity

As for <Opportunity />, if you exhaust yourself and go negative, you **Burn Out** and lose the entire next turn! In this example, you have <Icon id="opportunity" />3 so are safe.

Otherwise, **Roll for Research**. Its value is how much <Opportunity /> you'd need to successfully research and get better at Buying, Making, or Selling.

#### Research

Some real world examples of Research might be:

- Befriending vendors to get Parts more easily
- Getting machinery that builds Widgets automatically
- Upping your social media game for better marketing

We'll say you roll 3, which, conveniently!, is all the <Opportunity /> you have left.

Remember how you've only been using the first column of <Opportunity /> values with the dark outline? You decide you want to be better at Making, so you cross out the previously used values to outline the whole column of new ones to their right.

export default function Rules({ children, year, draftId }) {
  return (
    <div className={styles.rules}>
      {children}
    </div>
  );

}
