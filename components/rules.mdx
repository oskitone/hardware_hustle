import styles from "@/styles/Rules.module.css";

import ActionsTable, { ACTIONS } from "components/actions-table";
import Graph from "components/graph";
import Icon from "components/icon";
import Turn, { firstTurnSuppliedColumns } from "components/turn";

# Hardware Hustle

<p>{props.draftId}</p>

A pen-and-paper game for 1+ players about sustainably running a small hardware business.

## Setup

The game is played solo or competitively. Each player will need:

- Hardware Hustle game sheet
- Six-sided die
- Calculator (optional)
- 20min or so of time, depending on number of players

## Starting the game

For games with multiple players, the first to play can be determined by the highest die roll, then go clockwise.

Write your name on the "ID" line in the top left, then note the Actions table below it. The icons you see represent:

- Parts
  - <Icon id="A" />: Fastener
  - <Icon id="B" />: Enclosure
  - <Icon id="C" />: Gear
  - <Icon id="D" />: Screen
- Widgets
  - <Icon id="AB" />: Amplifier
  - <Icon id="ABC" />: Music Player
  - <Icon id="ABCD" />: Sequencer
- <Icon id="money" />: Money
- <Icon id="opportunity" />: Opportunity

Let's walk through what all that means...

## Taking a turn

You can think of a turn like a typical workday: you wake up in the AM, do some stuff (Actions), and then rest in the PM. Ideally, the day's actions get you further towards your goal, which is, unfortunately, to make the money that you need to continue making money.

{/* TODO: think about how to combine icons w/ text into their own component */}

Here's an example of the first turn, completed:

{/* TODO: confirm math... */}

<Turn
  className={styles.Turn}
  data={{
    money: [10, 9, undefined, 6, 7],
    A: [0, 2, 2, undefined, 0],
    B: [0, 2, 2, undefined, 0],
    C: [0, 1, 1, undefined, 0],
    D: [0, 0, 0, undefined, 0],
    AB: [0, undefined, 2, 1, 1],
    ABC: [0, undefined, 1, 0, 1],
    ABCD: [0, undefined, 0, 0, 0],
    opportunity: [12, 4, 4, 2, 2],
  }}
  suppliedColumns={firstTurnSuppliedColumns}
/>

{/* TODO: better word than graph? It's not a "graphical representation of data" */}

The day is a graph and its columns are done in order from left to right.

Let's walk through it, step by step:

{/* TODO: standardize user/you/we/they */}

### 1. AM

Your first day on the job starts with <Icon id="money" prefix="10" /> and <Icon id="opportunity" prefix="12" /> but nothing else. Nothing to do here but note what you've got... which, for now, isn't much!

### 2. Buy

Let's buy some Parts. This will cost Money and Opportunity.

**Roll for Opportunity:** Roll a die. Its value is the maximum you can spend on Opportunity. We'll say the user rolled a 5. (You can think of Opportunity as a combination of time, effort, and luck. You spend it like <Icon id="money" /> but, unlike <Icon id="money" />, it refreshes each AM.)

So, the user buys <Icon id="A" prefix="2" />, <Icon id="B" prefix="2" />, and <Icon id="C" prefix="1" />; and marks those numbers in the Parts columns.

<ActionsTable actions={[ACTIONS.BUY]} className={styles.ActionsTable} />

That cost <Icon id="money" suffix="9" /> (<Icon id="money" inline suffix="1x2" /> + <Icon id="money" inline suffix="2x2" /> + <Icon id="money" inline suffix="3" />) and that total is marked in the <Icon id="money" /> column.

It also took <Icon id="opportunity" suffix="4" /> to buy the parts (<Icon id="opportunity" inline suffix="0x2" /> + <Icon id="opportunity" inline suffix="1x2" /> + <Icon id="opportunity" inline suffix="2" />). The Actions table's <Icon id="opportunity" /> costs each have a row of values, but, for now, we'll use the value with a dark outline.

A couple things to call out:

- Cells are marked by their mathematical operation. Since we're spending <Icon id="money" /> and <Icon id="opportunity" />, those cells have a "-". We're gaining Parts, so those cells have a "+".
- Cells that are unused have a gray background. There are no changes to our Widget inventory when we're buying Parts &mdash; they're gray so we know to skip them.
- Action-relevant cells with no change can be filled with 0 or left blank.
- We rolled 5 for Opportunity but only spent 4. That's okay. Mark down only what you spent, not rolled. You cannot spend more Opportunity than you roll.
- Similarly, you cannot spend more Money than you have.

### 3. Make

Now we'll make Widgets from Parts, costing Parts and Opportunity.

**Roll for Opportunity.** Call it 4.

So the user makes 2x<Icon id="AB" /> and 1x<Icon id="ABC" />, marked in their columns.

<ActionsTable actions={[ACTIONS.MAKE]} className={styles.ActionsTable} />

The <Icon id="AB" /> consumed 1x<Icon id="A" />+1x<Icon id="B" />, and the <Icon id="ABC" /> took 1x<Icon id="A" />+1x<Icon id="B" />+1x<Icon id="C" />. Those total to <Icon id="A" suffix="2" />, <Icon id="B" suffix="2" />, and <Icon id="C" suffix="1" />.

Total <Icon id="opportunity" /> cost is 4 (<Icon id="opportunity" suffix="1" />x2 + <Icon id="opportunity" suffix="2" />x1). 4 is the max we rolled, so that's perfect. There's no <Icon id="money" /> cost because you already bought the parts you're using.

### 4. Sell

The last Action of our turn is to Sell Widgets, costing Widgets (of course) and Opportunity. In Sell, we _gain_ Money.

**Roll for Opportunity.** We'll say it's 3.

Here the user sells 1x<Icon id="AB" /> for its price of <Icon id="money" suffix="6" />, using <Icon id="opportunity" suffix="2" />, marking those values in their columns.

<ActionsTable actions={[ACTIONS.SELL]} className={styles.ActionsTable} />

If we had rolled 4 for <Icon id="opportunity" /> we could have sold 2x<Icon id="AB" />. See how that works? You can Buy/Sell/Make as much as you want within what you roll/have.

### 5. PM

Tally up your Actions' math and end your turn in the PM column.

#### Money

The user ends with <Icon id="money" suffix="7" />, which can be plotted in the MONEY dot chart on the left of the game sheet. Not the most unprofitable day, for sure...

{/* TODO: subset of Graph */}

<Graph
  turnCount={6}
  valueMax={100}
  valueStep={10}
  values={[10, 7]}
  className={styles.Graph}
/>

#### Opportunity

As for <Icon id="opportunity" />, if you exhaust yourself and go negative, you **Burn Out** and lose the entire next turn! In this example, the user has <Icon id="opportunity" suffix="2" /> so is safe.

Otherwise, **Roll for Research**. Its value is how much <Icon id="opportunity" /> you'd need so spend to successfully research how to get better at one of the Actions.

#### Research

We'll say the user rolls 2, which, conveniently!, is all the <Icon id="opportunity" /> we have left.

The user decides they want to be better at Making, so they use the Research there, crossing out the previously values to outline new ones.
{/* TODO: mark new PS values */}

<ActionsTable className={styles.ActionsTable} />

Nice! For the rest of the game, all Parts will cost one less <Icon id="opportunity" />!

#### Handoff

When your turn's done, for games with multiple players, hand the die to the next player so they can take their turn.

### Starting the next turn

The values in your PM column carry over to the empty cells in next turn's AM column.

Note that <Icon id="opportunity" /> is always filled out and dwindles over the course of the game. Just like in real life, you can't grind forever.

## End of Game

### How to Win

The player with the most money at the end of the game _without Burning Out in the last turn_ wins!

(Unused Parts and unsold Widgets count for nothing, only Money.)

Solo play is solitaire; try to beat your best score.

### How to Lose

If you Burn Out in the last turn, you are too tired to go to your family picnic the next day.

You were too preoccupied with money and have lost sight of what really matters to you and the people who love you, so you lose.

_{props.year} CC BY-SA 4.0 Oskitone_

export default function Rules({ children, year, draftId }) {
  return (
    <div className={styles.rules}>
      {children}
    </div>
  );

}
